{% extends 'core/base.html' %}


{% block content %}
    <div class="login-content">
        <div class="login-form-container">
            <h1>Crie sua conta</h1>
            <br>
            {% if cadastro_form.errors %}
{#                {% for field in cadastro_form %}#}
{#                    {% for error in field.errors %}#}
{#                        {% include 'core/components/alerts.html' with type='danger' title=field.label message=error|escape %}#}
{#                    {% endfor %}#}
{#                {% endfor %}#}
                {% for error in cadastro_form.non_field_errors %}
                    {% include 'core/components/alerts.html' with type='danger' title='Verifique as informacoes' message=error|escape %}
                {% endfor %}
            {% endif %}
            <form method="post" action="{% url 'users:register' %}" autocomplete="off" class="form">
                {% csrf_token %}
                <div class="two-cols">
                    <div class="form-group">
                        <label for="{{ cadastro_form.first_name.id_for_label }}">{{ cadastro_form.first_name.label }}</label>
                        {{ cadastro_form.first_name }}
                        {% if cadastro_form.first_name.errors %}<span class="form-error">{{ cadastro_form.first_name.label }}</span>{% endif %}
                    </div>
                    <div class="form-group">
                        <label for="{{ cadastro_form.last_name.id_for_label }}">{{ cadastro_form.last_name.label }}</label>
                        {{ cadastro_form.last_name }}
                        {% if cadastro_form.last_name.errors %}<span class="form-error">{{ cadastro_form.last_name.label }}</span>{% endif %}
                    </div>
                </div>
                <div class="form-group">
                    <label for="{{ cadastro_form.email.id_for_label }}">{{ cadastro_form.email.label }}</label>
                    {{ cadastro_form.email }}
                    {% if cadastro_form.email.errors %}<span class="form-error">{{ cadastro_form.email.label }}</span>{% endif %}
                </div>
                <div class="two-cols">
                    <div class="form-group">
                        <label for="{{ cadastro_form.password1.id_for_label }}">{{ cadastro_form.password1.label }}</label>
                        {{ cadastro_form.password1 }}
                        {% if cadastro_form.password1.errors %}<span class="form-error">{{ cadastro_form.password1.field.error_messages.password }}</span>{% endif %}
                    </div>
                    <div class="form-group">
                        <label for="{{ cadastro_form.password2.id_for_label }}">{{ cadastro_form.password2.label }}</label>
                        {{ cadastro_form.password2 }}
                        {% if cadastro_form.password2.errors %}<span class="form-error">{{ cadastro_form.password2.field.error_messages.password }}</span>{% endif %}
                    </div>
                </div>
                <div class="form-group text-center">
                    <a href="{% url 'users:login' %}"><button class="bg-seconday" type="button">Cancelar</button></a>
                    <button class="bg-primary">Cadastrar</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
